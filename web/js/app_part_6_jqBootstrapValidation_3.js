(function(a){var n=[],e={options:{prependExistingHelpBlock:!1,sniffHtml:!0,preventSubmit:!0,submitError:!1,submitSuccess:!1,semanticallyStrict:!1,autoAdd:{helpBlocks:!0},filter:function(){return!0}},methods:{init:function(r){var o=a.extend(!0,{},e);o.options=a.extend(!0,o.options,r);var d=this,l=a.unique(d.map(function(){return a(this).parents("form")[0]}).toArray());a(l).bind("submit",function(e){var t=a(this),n=0,i=t.find("input,textarea,select").not("[type=submit],[type=image]").filter(o.options.filter);i.trigger("submit.validation").trigger("validationLostFocus.validation");i.each(function(e,t){var r=a(t),i=r.parents(".control-group").first();if(i.hasClass("warning")){i.removeClass("warning").addClass("error");n++}});i.trigger("validationLostFocus.validation");if(n){if(o.options.preventSubmit){e.preventDefault()};t.addClass("error");if(a.isFunction(o.options.submitError)){o.options.submitError(t,e,i.jqBootstrapValidation("collectErrors",!0))}}
else{t.removeClass("error");if(a.isFunction(o.options.submitSuccess)){o.options.submitSuccess(t,e)}}});return this.each(function(){var e=a(this),l=e.parents(".control-group").first(),d=l.find(".help-block").first(),f=e.parents("form").first(),s=[];if(!d.length&&o.options.autoAdd&&o.options.autoAdd.helpBlocks){d=a("<div class=\"help-block\" />");l.find(".controls").append(d);n.push(d[0])};if(o.options.sniffHtml){var r="";if(e.attr("pattern")!==undefined){r="Not in the expected format<!-- data-validation-pattern-message to override -->";if(e.data("validationPatternMessage")){r=e.data("validationPatternMessage")};e.data("validationPatternMessage",r);e.data("validationPatternRegex",e.attr("pattern"))};if(e.attr("max")!==undefined||e.attr("aria-valuemax")!==undefined){var v=(e.attr("max")!==undefined?e.attr("max"):e.attr("aria-valuemax"));r="Too high: Maximum of '"+v+"'<!-- data-validation-max-message to override -->";if(e.data("validationMaxMessage")){r=e.data("validationMaxMessage")};e.data("validationMaxMessage",r);e.data("validationMaxMax",v)};if(e.attr("min")!==undefined||e.attr("aria-valuemin")!==undefined){var g=(e.attr("min")!==undefined?e.attr("min"):e.attr("aria-valuemin"));r="Too low: Minimum of '"+g+"'<!-- data-validation-min-message to override -->";if(e.data("validationMinMessage")){r=e.data("validationMinMessage")};e.data("validationMinMessage",r);e.data("validationMinMin",g)};if(e.attr("maxlength")!==undefined){r="Too long: Maximum of '"+e.attr("maxlength")+"' characters<!-- data-validation-maxlength-message to override -->";if(e.data("validationMaxlengthMessage")){r=e.data("validationMaxlengthMessage")};e.data("validationMaxlengthMessage",r);e.data("validationMaxlengthMaxlength",e.attr("maxlength"))};if(e.attr("minlength")!==undefined){r="Too short: Minimum of '"+e.attr("minlength")+"' characters<!-- data-validation-minlength-message to override -->";if(e.data("validationMinlengthMessage")){r=e.data("validationMinlengthMessage")};e.data("validationMinlengthMessage",r);e.data("validationMinlengthMinlength",e.attr("minlength"))};if(e.attr("required")!==undefined||e.attr("aria-required")!==undefined){r=o.builtInValidators.required.message;if(e.data("validationRequiredMessage")){r=e.data("validationRequiredMessage")};e.data("validationRequiredMessage",r)};if(e.attr("type")!==undefined&&e.attr("type").toLowerCase()==="number"){r=o.builtInValidators.number.message;if(e.data("validationNumberMessage")){r=e.data("validationNumberMessage")};e.data("validationNumberMessage",r)};if(e.attr("type")!==undefined&&e.attr("type").toLowerCase()==="email"){r="Not a valid email address<!-- data-validator-validemail-message to override -->";if(e.data("validationValidemailMessage")){r=e.data("validationValidemailMessage")}
else if(e.data("validationEmailMessage")){r=e.data("validationEmailMessage")};e.data("validationValidemailMessage",r)};if(e.attr("minchecked")!==undefined){r="Not enough options checked; Minimum of '"+e.attr("minchecked")+"' required<!-- data-validation-minchecked-message to override -->";if(e.data("validationMincheckedMessage")){r=e.data("validationMincheckedMessage")};e.data("validationMincheckedMessage",r);e.data("validationMincheckedMinchecked",e.attr("minchecked"))};if(e.attr("maxchecked")!==undefined){r="Too many options checked; Maximum of '"+e.attr("maxchecked")+"' required<!-- data-validation-maxchecked-message to override -->";if(e.data("validationMaxcheckedMessage")){r=e.data("validationMaxcheckedMessage")};e.data("validationMaxcheckedMessage",r);e.data("validationMaxcheckedMaxchecked",e.attr("maxchecked"))}};if(e.data("validation")!==undefined){s=e.data("validation").split(",")};a.each(e.data(),function(a,e){var t=a.replace(/([A-Z])/g,",$1").split(",");if(t[0]==="validation"&&t[1]){s.push(t[1])}});var m=s,u=[];do{a.each(s,function(a,e){s[a]=t(e)});s=a.unique(s);u=[];a.each(m,function(i,n){if(e.data("validation"+n+"Shortcut")!==undefined){a.each(e.data("validation"+n+"Shortcut").split(","),function(a,e){u.push(e)})}
else if(o.builtInValidators[n.toLowerCase()]){var r=o.builtInValidators[n.toLowerCase()];if(r.type.toLowerCase()==="shortcut"){a.each(r.shortcut.split(","),function(a,e){e=t(e);u.push(e);s.push(e)})}}});m=u}
while(m.length>0)var c={};a.each(s,function(i,n){var d=e.data("validation"+n+"Message"),u=(d!==undefined),r=!1;d=(d?d:"'"+n+"' validation failed <!-- Add attribute 'data-validation-"+n.toLowerCase()+"-message' to input to change this message -->");a.each(o.validatorTypes,function(i,o){if(c[i]===undefined){c[i]=[]};if(!r&&e.data("validation"+n+t(o.name))!==undefined){c[i].push(a.extend(!0,{name:t(o.name),message:d},o.init(e,n)));r=!0}});if(!r&&o.builtInValidators[n.toLowerCase()]){var l=a.extend(!0,{},o.builtInValidators[n.toLowerCase()]);if(u){l.message=d};var s=l.type.toLowerCase();if(s==="shortcut"){r=!0}
else{a.each(o.validatorTypes,function(i,o){if(c[i]===undefined){c[i]=[]};if(!r&&s===i.toLowerCase()){e.data("validation"+n+t(o.name),l[o.name.toLowerCase()]);c[s].push(a.extend(l,o.init(e,n)));r=!0}})}};if(!r){a.error("Cannot find validation info for '"+n+"'")}});d.data("original-contents",(d.data("original-contents")?d.data("original-contents"):d.html()));d.data("original-role",(d.data("original-role")?d.data("original-role"):d.attr("role")));l.data("original-classes",(l.data("original-clases")?l.data("original-classes"):l.attr("class")));e.data("original-aria-invalid",(e.data("original-aria-invalid")?e.data("original-aria-invalid"):e.attr("aria-invalid")));e.bind("validation.validation",function(t,n){var r=i(e),d=[];a.each(c,function(t,i){if(r||r.length||(n&&n.includeEmpty)||(!!o.validatorTypes[t].blockSubmit&&n&&!!n.submitting)){a.each(i,function(a,i){if(o.validatorTypes[t].validate(e,r,i)){d.push(i.message)}})}});return d});e.bind("getValidators.validation",function(){return c});e.bind("submit.validation",function(){return e.triggerHandler("change.validation",{submitting:!0})});e.bind(["keyup","focus","blur","click","keydown","keypress","change"].join(".validation ")+".validation",function(t,n){var s=i(e),r=[];l.find("input,textarea,select").each(function(t,i){var d=r.length;a.each(a(i).triggerHandler("validation.validation",n),function(a,e){r.push(e)});if(r.length>d){a(i).attr("aria-invalid","true")}
else{var o=e.data("original-aria-invalid");a(i).attr("aria-invalid",(o!==undefined?o:!1))}});f.find("input,select,textarea").not(e).not("[name=\""+e.attr("name")+"\"]").trigger("validationLostFocus.validation");r=a.unique(r.sort());if(r.length){l.removeClass("success error").addClass("warning");if(o.options.semanticallyStrict&&r.length===1){d.html(r[0]+(o.options.prependExistingHelpBlock?d.data("original-contents"):""))}
else{d.html("<ul role=\"alert\"><li>"+r.join("</li><li>")+"</li></ul>"+(o.options.prependExistingHelpBlock?d.data("original-contents"):""))}}
else{l.removeClass("warning error success");if(s.length>0){l.addClass("success")};d.html(d.data("original-contents"))};if(t.type==="blur"){l.removeClass("success")}});e.bind("validationLostFocus.validation",function(){l.removeClass("success")})})},destroy:function(){return this.each(function(){var e=a(this),i=e.parents(".control-group").first(),t=i.find(".help-block").first();e.unbind(".validation");t.html(t.data("original-contents"));i.attr("class",i.data("original-classes"));e.attr("aria-invalid",e.data("original-aria-invalid"));t.attr("role",e.data("original-role"));if(n.indexOf(t[0])>-1){t.remove()}})},collectErrors:function(e){var t={};this.each(function(e,i){var n=a(i),r=n.attr("name"),o=n.triggerHandler("validation.validation",{includeEmpty:!0});t[r]=a.extend(!0,o,t[r])});a.each(t,function(a,e){if(e.length===0){delete t[a]}});return t},hasErrors:function(){var e=[];this.each(function(t,i){e=e.concat(a(i).triggerHandler("getValidators.validation")?a(i).triggerHandler("validation.validation",{submitting:!0}):[])});return(e.length>0)},override:function(t){e=a.extend(!0,e,t)}},validatorTypes:{callback:{name:"callback",init:function(a,e){return{validatorName:e,callback:a.data("validation"+e+"Callback"),lastValue:a.val(),lastValid:!0,lastFinished:!0}},validate:function(a,e,t){if(t.lastValue===e&&t.lastFinished){return!t.lastValid};if(t.lastFinished===!0){t.lastValue=e;t.lastValid=!0;t.lastFinished=!1;var i=t,n=a;o(t.callback,window,a,e,function(a){if(i.lastValue===a.value){i.lastValid=a.valid;if(a.message){i.message=a.message};i.lastFinished=!0;n.data("validation"+i.validatorName+"Message",i.message);setTimeout(function(){n.trigger("change.validation")},1)}})};return!1}},ajax:{name:"ajax",init:function(a,e){return{validatorName:e,url:a.data("validation"+e+"Ajax"),lastValue:a.val(),lastValid:!0,lastFinished:!0}},validate:function(e,t,i){if(""+i.lastValue===""+t&&i.lastFinished===!0){return i.lastValid===!1};if(i.lastFinished===!0){i.lastValue=t;i.lastValid=!0;i.lastFinished=!1;a.ajax({url:i.url,data:"value="+t+"&field="+e.attr("name"),dataType:"json",success:function(a){if(""+i.lastValue===""+a.value){i.lastValid=!!(a.valid);if(a.message){i.message=a.message};i.lastFinished=!0;e.data("validation"+i.validatorName+"Message",i.message);setTimeout(function(){e.trigger("change.validation")},1)}},failure:function(){i.lastValid=!0;i.message="ajax call failed";i.lastFinished=!0;e.data("validation"+i.validatorName+"Message",i.message);setTimeout(function(){e.trigger("change.validation")},1)}})};return!1}},regex:{name:"regex",init:function(a,e){return{regex:r(a.data("validation"+e+"Regex"))}},validate:function(a,e,t){return(!t.regex.test(e)&&!t.negative)||(t.regex.test(e)&&t.negative)}},required:{name:"required",init:function(a,e){return{}},validate:function(a,e,t){return!!(e.length===0&&!t.negative)||!!(e.length>0&&t.negative)},blockSubmit:!0},match:{name:"match",init:function(a,e){var t=a.parents("form").first().find("[name=\""+a.data("validation"+e+"Match")+"\"]").first();t.bind("validation.validation",function(){a.trigger("change.validation",{submitting:!0})});return{"element":t}},validate:function(a,e,t){return(e!==t.element.val()&&!t.negative)||(e===t.element.val()&&t.negative)},blockSubmit:!0},max:{name:"max",init:function(a,e){return{max:a.data("validation"+e+"Max")}},validate:function(a,e,t){return(parseFloat(e,10)>parseFloat(t.max,10)&&!t.negative)||(parseFloat(e,10)<=parseFloat(t.max,10)&&t.negative)}},min:{name:"min",init:function(a,e){return{min:a.data("validation"+e+"Min")}},validate:function(a,e,t){return(parseFloat(e)<parseFloat(t.min)&&!t.negative)||(parseFloat(e)>=parseFloat(t.min)&&t.negative)}},maxlength:{name:"maxlength",init:function(a,e){return{maxlength:a.data("validation"+e+"Maxlength")}},validate:function(a,e,t){return((e.length>t.maxlength)&&!t.negative)||((e.length<=t.maxlength)&&t.negative)}},minlength:{name:"minlength",init:function(a,e){return{minlength:a.data("validation"+e+"Minlength")}},validate:function(a,e,t){return((e.length<t.minlength)&&!t.negative)||((e.length>=t.minlength)&&t.negative)}},maxchecked:{name:"maxchecked",init:function(a,e){var t=a.parents("form").first().find("[name=\""+a.attr("name")+"\"]");t.bind("click.validation",function(){a.trigger("change.validation",{includeEmpty:!0})});return{maxchecked:a.data("validation"+e+"Maxchecked"),elements:t}},validate:function(a,e,t){return(t.elements.filter(":checked").length>t.maxchecked&&!t.negative)||(t.elements.filter(":checked").length<=t.maxchecked&&t.negative)},blockSubmit:!0},minchecked:{name:"minchecked",init:function(a,e){var t=a.parents("form").first().find("[name=\""+a.attr("name")+"\"]");t.bind("click.validation",function(){a.trigger("change.validation",{includeEmpty:!0})});return{minchecked:a.data("validation"+e+"Minchecked"),elements:t}},validate:function(a,e,t){return(t.elements.filter(":checked").length<t.minchecked&&!t.negative)||(t.elements.filter(":checked").length>=t.minchecked&&t.negative)},blockSubmit:!0}},builtInValidators:{email:{name:"Email",type:"shortcut",shortcut:"validemail"},validemail:{name:"Validemail",type:"regex",regex:"[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\\.[A-Za-z]{2,4}",message:"Not a valid email address<!-- data-validator-validemail-message to override -->"},passwordagain:{name:"Passwordagain",type:"match",match:"password",message:"Does not match the given password<!-- data-validator-paswordagain-message to override -->"},positive:{name:"Positive",type:"shortcut",shortcut:"number,positivenumber"},negative:{name:"Negative",type:"shortcut",shortcut:"number,negativenumber"},number:{name:"Number",type:"regex",regex:"([+-]?\\\d+(\\\.\\\d*)?([eE][+-]?[0-9]+)?)?",message:"Must be a number<!-- data-validator-number-message to override -->"},integer:{name:"Integer",type:"regex",regex:"[+-]?\\\d+",message:"No decimal places allowed<!-- data-validator-integer-message to override -->"},positivenumber:{name:"Positivenumber",type:"min",min:0,message:"Must be a positive number<!-- data-validator-positivenumber-message to override -->"},negativenumber:{name:"Negativenumber",type:"max",max:0,message:"Must be a negative number<!-- data-validator-negativenumber-message to override -->"},required:{name:"Required",type:"required",message:"This is required<!-- data-validator-required-message to override -->"},checkone:{name:"Checkone",type:"minchecked",minchecked:1,message:"Check at least one option<!-- data-validation-checkone-message to override -->"}}};var t=function(a){return a.toLowerCase().replace(/(^|\s)([a-z])/g,function(a,e,t){return e+t.toUpperCase()})},i=function(e){var t=e.val(),i=e.attr("type");if(i==="checkbox"){t=(e.is(":checked")?t:"")};if(i==="radio"){t=(a("input[name=\""+e.attr("name")+"\"]:checked").length>0?t:"")};return t};function r(a){return new RegExp("^"+a+"$")};function o(a,e){var n=Array.prototype.slice.call(arguments).splice(2),i=a.split("."),r=i.pop();for(var t=0;t<i.length;t++){e=e[i[t]]};return e[r].apply(this,n)};a.fn.jqBootstrapValidation=function(t){if(e.methods[t]){return e.methods[t].apply(this,Array.prototype.slice.call(arguments,1))}
else if(typeof t==="object"||!t){return e.methods.init.apply(this,arguments)}
else{a.error("Method "+t+" does not exist on jQuery.jqBootstrapValidation");return null}};a.jqBootstrapValidation=function(e){a(":input").not("[type=image],[type=submit]").jqBootstrapValidation.apply(this,arguments)}})(jQuery);